<h2>
  <span>#{{number}} {{title}}</span>
</h2>
<div class="card mb-5">
  <div class="card-body">
    <ngb-carousel class="pb-4" *ngIf="images">
      <ng-template ngbSlide *ngFor="let imageId of images">
        <div class="image-container">
          <div class="image-sub-container d-flex justify-content-center bg-dark">
            <img [src]="'assets/pictures/' + imageId + '.jpg'" alt="Random slide">
          </div>
        </div>
        <div class="carousel-caption">
          <!-- <h3>Slide label</h3>
              <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p> -->
        </div>
      </ng-template>
    </ngb-carousel>
    <p class="text-justify" [ngClass]="{ 'overview': isOverviewMode }" [innerHTML]="text"></p>

    <div *ngIf="isOverviewMode" class="gradient-layer mb-3"></div>

    <div class="d-flex flex-column justify-content-center mb-3">
      <button tabindex="newCommentBtn" class="btn btn-outline-primary" type="button" (click)="isOverviewMode = !isOverviewMode">
        {{ isOverviewMode ? 'Lire suite' : 'RÃ©duire' }}
      </button>
    </div>

    <button class="btn btn-outline-primary button-icon-primary" (click)="isCommentsCollapsed = !isCommentsCollapsed">
      <i class="zmdi zmdi-comment"></i>
      <span class="badge badge-light ml-2">{{ comments.length }}</span>
    </button>

    <div class="mt-3 border-top" [ngbCollapse]="isCommentsCollapsed">

      <div [formGroup]="commentForm" class="mt-3" [ngbCollapse]="isNewCommentCollapsed">
        <input type="text" formControlName="author" class="form-control mt-3" placeholder="Nom" required>
        <input type="text" formControlName="text" class="form-control mt-3" placeholder="Commentaire" required>
      </div>

      <div class="mt-3">
        <button tabindex="newCommentBtn" class="btn" type="button" (click)="isNewCommentCollapsed = !isNewCommentCollapsed"
          [ngClass]="{ 'btn-outline-primary': isNewCommentCollapsed, 'btn-outline-secondary':  !isNewCommentCollapsed }">
          {{ isNewCommentCollapsed ? 'Nouveau' : 'Annuler' }}
        </button>
        <button *ngIf="!isNewCommentCollapsed" tabindex="addCommentBtn" type="button" class="btn btn-outline-primary ml-3"
          (click)="addComment()" [disabled]="commentForm.hasError('required', ['author']) || commentForm.hasError('required', ['text'])">
          Ajouter
        </button>
      </div>

      <div class="mt-3" *ngFor="let comment of comments">
        <h6 class="font-weight-bold">{{ comment.author }}</h6>
        <div class="card">
          <div class="card-body quotation">{{ comment.text }}</div>
        </div>
      </div>
    </div>

  </div>
</div>